<!DOCTYPE html>
<html>
<head>
    <title>GitHup</title>
    <link href="style.css" rel="stylesheet"/>
</head>
<body>
<h2>CSS3 Timeline</h2>
<p>Please set the $vertical variable to false to see the horizontal version.</p>
<ul id='timeline'>
    <li class='work'>
        <input class='radio' id='work5' name='works' type='radio' checked>
        <div class="relative">
            <label for='work5'>Lorem ipsum dolor sit amet</label>
            <span class='date'>12 May 2013</span>
            <span class='circle'></span>
        </div>
        <div class='content'>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio ea necessitatibus quo velit natus cupiditate qui alias possimus ab praesentium nostrum quidem obcaecati nesciunt! Molestiae officiis voluptate excepturi rem veritatis eum aliquam qui laborum non ipsam ullam tempore reprehenderit illum eligendi cumque mollitia temporibus! Natus dicta qui est optio rerum.
            </p>
        </div>
    </li>
    <li class='work'>
        <input class='radio' id='work4' name='works' type='radio'>
        <div class="relative">
            <label for='work4'>Lorem ipsum dolor sit amet</label>
            <span class='date'>11 May 2013</span>
            <span class='circle'></span>
        </div>
        <div class='content'>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio ea necessitatibus quo velit natus cupiditate qui alias possimus ab praesentium nostrum quidem obcaecati nesciunt! Molestiae officiis voluptate excepturi rem veritatis eum aliquam qui laborum non ipsam ullam tempore reprehenderit illum eligendi cumque mollitia temporibus! Natus dicta qui est optio rerum.
            </p>
        </div>
    </li>
    <li class='work'>
        <input class='radio' id='work42' name='works' type='radio'>
        <div class="relative">
            <label for='work42'>Lorem ipsum dolor sit amet</label>
            <span class='date'>11 May 2013</span>
            <span class='circle'></span>
        </div>
        <div class='content'>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio ea necessitatibus quo velit natus cupiditate qui alias possimus ab praesentium nostrum quidem obcaecati nesciunt! Molestiae officiis voluptate excepturi rem veritatis eum aliquam qui laborum non ipsam ullam tempore reprehenderit illum eligendi cumque mollitia temporibus! Natus dicta qui est optio rerum.
            </p>
        </div>
    </li>
    <li class='work'>
        <input class='radio' id='work44' name='works' type='radio'>
        <div class="relative">
            <label for='work44'>Lorem ipsum dolor sit amet</label>
            <span class='date'>11 May 2013</span>
            <span class='circle'></span>
        </div>
        <div class='content'>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio ea necessitatibus quo velit natus cupiditate qui alias possimus ab praesentium nostrum quidem obcaecati nesciunt! Molestiae officiis voluptate excepturi rem veritatis eum aliquam qui laborum non ipsam ullam tempore reprehenderit illum eligendi cumque mollitia temporibus! Natus dicta qui est optio rerum.
            </p>
        </div>
    </li>
    <li class='work'>
        <input class='radio' id='work544' name='works' type='radio'>
        <div class="relative">
            <label for='work544'>Lorem ipsum dolor sit amet</label>
            <span class='date'>11 May 2013</span>
            <span class='circle'></span>
        </div>
        <div class='content'>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio ea necessitatibus quo velit natus cupiditate qui alias possimus ab praesentium nostrum quidem obcaecati nesciunt! Molestiae officiis voluptate excepturi rem veritatis eum aliquam qui laborum non ipsam ullam tempore reprehenderit illum eligendi cumque mollitia temporibus! Natus dicta qui est optio rerum.
            </p>
        </div>
    </li>
    <li class='work'>
        <input class='radio' id='work664' name='works' type='radio'>
        <div class="relative">
            <label for='work664'>Lorem ipsum dolor sit amet</label>
            <span class='date'>11 May 2013</span>
            <span class='circle'></span>
        </div>
        <div class='content'>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio ea necessitatibus quo velit natus cupiditate qui alias possimus ab praesentium nostrum quidem obcaecati nesciunt! Molestiae officiis voluptate excepturi rem veritatis eum aliquam qui laborum non ipsam ullam tempore reprehenderit illum eligendi cumque mollitia temporibus! Natus dicta qui est optio rerum.
            </p>
        </div>
    </li>
    <li class='work'>
        <input class='radio' id='work47' name='works' type='radio'>
        <div class="relative">
            <label for='work47'>Lorem ipsum dolor sit amet</label>
            <span class='date'>11 May 2013</span>
            <span class='circle'></span>
        </div>
        <div class='content'>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio ea necessitatibus quo velit natus cupiditate qui alias possimus ab praesentium nostrum quidem obcaecati nesciunt! Molestiae officiis voluptate excepturi rem veritatis eum aliquam qui laborum non ipsam ullam tempore reprehenderit illum eligendi cumque mollitia temporibus! Natus dicta qui est optio rerum.
            </p>
        </div>
    </li>
    <li class='work'>
        <input class='radio' id='work77' name='works' type='radio'>
        <div class="relative">
            <label for='work77'>Lorem ipsum dolor sit amet</label>
            <span class='date'>11 May 2013</span>
            <span class='circle'></span>
        </div>
        <div class='content'>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio ea necessitatibus quo velit natus cupiditate qui alias possimus ab praesentium nostrum quidem obcaecati nesciunt! Molestiae officiis voluptate excepturi rem veritatis eum aliquam qui laborum non ipsam ullam tempore reprehenderit illum eligendi cumque mollitia temporibus! Natus dicta qui est optio rerum.
            </p>
        </div>
    </li>
    <li class='work'>
        <input class='radio' id='work74' name='works' type='radio'>
        <div class="relative">
            <label for='work74'>Lorem ipsum dolor sit amet</label>
            <span class='date'>11 May 2013</span>
            <span class='circle'></span>
        </div>
        <div class='content'>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio ea necessitatibus quo velit natus cupiditate qui alias possimus ab praesentium nostrum quidem obcaecati nesciunt! Molestiae officiis voluptate excepturi rem veritatis eum aliquam qui laborum non ipsam ullam tempore reprehenderit illum eligendi cumque mollitia temporibus! Natus dicta qui est optio rerum.
            </p>
        </div>
    </li>
    <li class='work'>
        <input class='radio' id='work3' name='works' type='radio'>
        <div class="relative">
            <label for='work3'>Lorem ipsum dolor sit amet</label>
            <span class='date'>10 May 2013</span>
            <span class='circle'></span>
        </div>
        <div class='content'>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio ea necessitatibus quo velit natus cupiditate qui alias possimus ab praesentium nostrum quidem obcaecati nesciunt! Molestiae officiis voluptate excepturi rem veritatis eum aliquam qui laborum non ipsam ullam tempore reprehenderit illum eligendi cumque mollitia temporibus! Natus dicta qui est optio rerum.
            </p>
        </div>
    </li>
    <li class='work'>
        <input class='radio' id='work2' name='works' type='radio'>
        <div class="relative">
            <label for='work2'>Lorem ipsum dolor sit amet</label>
            <span class='date'>09 May 2013</span>
            <span class='circle'></span>
        </div>
        <div class='content'>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio ea necessitatibus quo velit natus cupiditate qui alias possimus ab praesentium nostrum quidem obcaecati nesciunt! Molestiae officiis voluptate excepturi rem veritatis eum aliquam qui laborum non ipsam ullam tempore reprehenderit illum eligendi cumque mollitia temporibus! Natus dicta qui est optio rerum.
            </p>
        </div>
    </li>
    <li class='work'>
        <input class='radio' id='work1' name='works' type='radio'>
        <div class="relative">
            <label for='work1'>Lorem ipsum dolor sit amet</label>
            <span class='date'>08 May 2013</span>
            <span class='circle'></span>
        </div>
        <div class='content'>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odio ea necessitatibus quo velit natus cupiditate qui alias possimus ab praesentium nostrum quidem obcaecati nesciunt! Molestiae officiis voluptate excepturi rem veritatis eum aliquam qui laborum non ipsam ullam tempore reprehenderit illum eligendi cumque mollitia temporibus! Natus dicta qui est optio rerum.
            </p>
        </div>
    </li>
</ul>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script src="jquery.mousewheel.js"></script>
<script src="http://builds.handlebarsjs.com.s3.amazonaws.com/handlebars-v1.3.0.js"></script>
<script>
    function shuffle(o) { //v1.0
        for (var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
        return o;
    }
    var postTemplate = "<div class='row'><div class='col-md-2 placeholder'><a href='{{author.url}}'><img class='img-responsive pull-right icon-64' alt='{{author.username}}' src='{{author.imageUrl}}'/></a></div><div class='col-md-10'><h4><a href='{{author.url}}'>{{author.username}}</a> pushed to <a href='{{repo.url}}'>{{repo.name}}</a></h4><blockquote><a href='{{author.url}}'><img class='icon-32 pull-left' alt='{{author.username}}' src='{{author.imageUrl}}'/></a><a href='#'>{{ hash }}</a> <code>{{message}}</code></blockquote></div></div><br>";
    var template = Handlebars.compile(postTemplate);

    $("body").mousewheel(function(event, delta) {
        this.scrollLeft -= (delta * 30);
        event.preventDefault();
    });

    $.getJSON('http://cloud.rozu.co:9080/githup', function (result) {
        data = shuffle(result);
        var time = 2;
        for (var i = 0; i < data.length; i++) {
            if (Math.random() > 0.9) {
                time++;
            }
            var datum = data[i];

            repoUrl = datum.url.split('/compare/')[0];
            repoName = repoUrl.split('https://github.com/')[1];
            datum.repo = {name: repoName, url: repoUrl};
            datum.hash = datum.url.split('...')[1];
            datum.time = time;

            var html = template(datum);
            $('.news').append(html);
        }
    });

</script>
</body>
</html>